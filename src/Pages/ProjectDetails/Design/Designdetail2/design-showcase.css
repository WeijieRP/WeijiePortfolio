:root{
  --ink:#fff4e6; --muted:#fcd8b0;
  --accent:#f6a96c; --accent2:#ffb574;
  --bg:#0a0a0a;
  --card:rgba(255,255,255,.06);
  --stroke:rgba(255,255,255,.12);

  --ease: cubic-bezier(.2,.8,.2,1);
  --dur: 720ms;
}

.ds-stage{
  position:relative; background:var(--bg); color:var(--ink);
  padding:clamp(48px,8vw,100px) clamp(20px,6vw,80px);
  overflow:hidden; isolation:isolate;
}

/* Background & ambience */
.ds-bg{
  position:absolute; inset:-20vh -10vw;
  background-size:cover; background-position:center;
  filter:brightness(.92) contrast(1.08) saturate(1.05);
  transform:scale(1.03);
  z-index:0;
}
.ds-vignette{
  position:absolute; inset:0; z-index:1;
  background:linear-gradient(180deg,rgba(0,0,0,.18),rgba(0,0,0,.78));
}
.ds-sparkles{
  position:absolute; inset:0; z-index:2; pointer-events:none;
  background-image:
    radial-gradient(2px 2px at 20% 25%, rgba(255,255,255,.75) 55%, transparent 56%),
    radial-gradient(1.6px 1.6px at 70% 55%, rgba(255,255,255,.65) 55%, transparent 56%),
    radial-gradient(1.4px 1.4px at 40% 80%, rgba(255,255,255,.6) 55%, transparent 56%);
  animation: twinkle 6s ease-in-out infinite alternate;
}
@keyframes twinkle{from{opacity:.45} to{opacity:.9}}

/* Header */
.ds-head{ position:relative; z-index:3; text-align:center; margin-bottom:28px; }
.ds-title{
  font-size:clamp(28px,4.5vw,52px); font-weight:900;
  background:linear-gradient(90deg,var(--accent),var(--accent2));
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
}
.ds-sub{ margin-top:12px; color:var(--muted); font-size:clamp(14px,1.2vw,18px); opacity:.92; }

/* Grid — 4 × 4 desktop, 2 × 2 tablet, 1 on mobile */
.ds-grid{
  position:relative; z-index:3;
  display:grid; gap:18px;
  grid-template-columns: repeat(4, minmax(220px, 1fr));
  max-width: 1300px; margin:0 auto;
}
@media (max-width: 1200px){
  .ds-grid{ grid-template-columns: repeat(3, minmax(220px, 1fr)); }
}
@media (max-width: 900px){
  .ds-grid{ grid-template-columns: repeat(2, minmax(220px, 1fr)); }
}
@media (max-width: 560px){
  .ds-grid{ grid-template-columns: 1fr; }
}

/* Card */
.ds-card{
  background:var(--card); border:1px solid var(--stroke);
  border-radius:16px; overflow:hidden; box-shadow:0 10px 28px rgba(0,0,0,.28);
  transition: transform .28s ease, background .28s ease, box-shadow .28s ease;
  cursor: zoom-in;
  will-change: transform, opacity;
  opacity:0;
}
/* Side slide directions */
.ds-card[data-dir="left"]{
  transform: translateX(-60px) translateY(6px) scale(.985);
}
.ds-card[data-dir="right"]{
  transform: translateX(60px) translateY(6px) scale(.985);
}
.ds-card.is-in{
  opacity:1;
  transform: translateX(0) translateY(0) scale(1);
  transition:
    opacity var(--dur) var(--ease) var(--d,0ms),
    transform var(--dur) var(--ease) var(--d,0ms),
    background .28s ease, box-shadow .28s ease;
}

@media (hover:hover){
  .ds-card:hover{
    transform: translateY(-6px) scale(1.01);
    background: rgba(255,255,255,.08);
    box-shadow: 0 18px 46px rgba(0,0,0,.4);
  }
}

/* Thumb + overlay */
.thumb{ position:relative; width:100%; aspect-ratio:4/3; background-size:cover; background-position:center; }
.thumb-shade{ position:absolute; inset:0; background:linear-gradient(180deg,rgba(0,0,0,0),rgba(0,0,0,.35)); }
.thumb-overlay{
  position:absolute; inset:auto 0 0 0; padding:14px 16px;
  background:linear-gradient(180deg,rgba(0,0,0,0),rgba(10,10,10,.94) 55%);
  transform:translateY(8%); opacity:0;
  transition: opacity .35s ease, transform .35s ease;
}
.ds-card:hover .thumb-overlay{ transform:translateY(0); opacity:1; }

.ov-title{ margin:0 0 6px; font-size:15px; font-weight:900; color:#f7fbff; }
.ov-desc{ margin:0 0 10px; font-size:13px; color:var(--muted); }
.ov-view{
  appearance:none; border:0; cursor:pointer;
  background:linear-gradient(180deg,var(--accent2),var(--accent));
  color:#0b0b0b; border-radius:10px; padding:6px 10px; font-size:12px; font-weight:900;
}

/* Reveal utility (for header) */
[data-reveal]{
  opacity:0; transform: translateY(18px);
  transition: opacity var(--dur) var(--ease) var(--d,0ms),
             transform var(--dur) var(--ease) var(--d,0ms);
}
[data-reveal].is-in{ opacity:1; transform:none; }

/* Lightbox */
.lb{
  position:fixed; inset:0; z-index:50; background:rgba(0,0,0,.7);
  display:grid; place-items:center; padding:24px;
}
.lb-inner{
  background:#0d0f14; color:var(--ink); width:min(1100px,92vw);
  max-height:92vh; border-radius:16px; border:1px solid var(--stroke);
  box-shadow:0 30px 80px rgba(0,0,0,.6); display:flex; flex-direction:column;
}
.lb-topbar{
  display:flex; align-items:center; gap:8px; padding:10px 12px; border-bottom:1px solid var(--stroke);
}
.lb-meta{ flex:1; min-width:0; }
.lb-title{ margin:0; font-weight:900; font-size:18px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.lb-desc{ margin:0; color:var(--muted); font-size:13px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.lb-close, .lb-nav{
  background:rgba(255,255,255,.08); color:var(--ink);
  border:1px solid var(--stroke); border-radius:10px; padding:6px 10px; cursor:pointer;
}
.lb-body{
  overflow:auto; padding:14px; display:grid; place-items:center; flex:1;
}
.lb-media{
  max-width:100%; height:auto; border-radius:12px; border:1px solid var(--stroke); display:block;
}
.lb-actions{
  display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end;
  padding:10px 12px; border-top:1px solid var(--stroke);
}
.btn-ghost{
  background:rgba(255,255,255,.08); color:var(--ink);
  border:1px solid var(--stroke); border-radius:12px; padding:10px 14px; font-weight:800; cursor:pointer;
}

@media(max-width:600px){
  .lb-title{ font-size:16px; }
}

/* Motion reduction */
@media (prefers-reduced-motion: reduce){
  .ds-card, [data-reveal], .thumb-overlay, .ov-view{
    transition: none !important;
    transform: none !important;
    opacity: 1 !important;
  }
}
