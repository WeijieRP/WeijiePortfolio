:root{
  --ink:#e6edf3;
  --muted:#cfd9ec;
  --accent:#67d3ff;
  --line: rgba(103,211,255,.45);
  --bg:#000;

  --reveal-dur:.55s;
  --reveal-ease:cubic-bezier(.22,.61,.36,1);
}

html, body { background: var(--bg); color: var(--ink); }
* { box-sizing: border-box; }

/* ===== SECTION STAGE ===== */
.sol-stage{
  position:relative;
  isolation:isolate;
  padding: clamp(40px, 6vw, 96px) clamp(16px, 5vw, 6vw);
  overflow: visible;           /* allow slide in/out to be fully visible */
  min-height: 100vh;
}

/* ---------- FOREGROUND CRISP GUARD ---------- */
/* Keep background layers allowed to filter, but foreground is crystal clear */
.sol-stage .sol-grid,
.sol-stage .sol-copy,
.sol-stage .sol-visual,
.sol-stage .sol-visual *,
.sol-stage .sol-card,
.sol-stage .sol-card *,
.sol-stage .sol-title,
.sol-stage .sol-desc,
.sol-stage .sol-eyebrow {
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
  filter: none !important;
  mix-blend-mode: normal !important;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ===== BACKDROP (only background keeps tone filters, no blur) ===== */
.sol-backdrop{
  position:absolute; inset:-2% 0;
  background-size:cover; background-position:50% 50%;
  transform: scale(1.06);
  filter: brightness(.9) contrast(1.05) saturate(1.05); /* tone only */
  z-index:0;
}
.sol-backdrop-overlay{
  position:absolute; inset:0; z-index:1; pointer-events:none;
  background:
    linear-gradient(180deg, rgba(0,0,0,.6), rgba(0,0,0,.2) 40%, rgba(0,0,0,.75)),
    radial-gradient(70rem 42rem at 50% 8%, rgba(126,141,254,.16), transparent 60%);
}

/* ===== GRID ===== */
.sol-grid{
  position:relative; z-index:2;
  display:grid;
  grid-template-columns: 1.25fr 1fr;
  gap: clamp(20px, 4vw, 48px);
  align-items: stretch;
}

/* ===== LEFT COPY (hard left-aligned, NO blur) ===== */
.sol-copy{
  align-self:center;
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  text-align:left;

  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.08);
  border-radius: 16px;
  padding: clamp(16px, 3vw, 28px) clamp(16px, 3.6vw, 32px);

  /* removed blur that softened text */
  -webkit-backdrop-filter: none;
  backdrop-filter: none;
}
.sol-eyebrow{
  margin:0 0 10px; letter-spacing:.28em; text-transform:uppercase;
  font-size: clamp(10px,1.1vw,12px); color:#e8dfcf; opacity:.9;
}
.sol-title{
  margin:0 0 12px; line-height:1.05;
  font-size: clamp(22px, 3.8vw, 40px);
  font-weight: 900;
  text-shadow:none; /* keep razor-sharp */
}
.sol-desc{
  margin: 6px 0 12px;
  padding-left: 30px;
  color: var(--ink);
  font-size: clamp(14px, 1.8vw, 18px);
  line-height: 1.65;
  opacity:.98;
  max-width: 70ch;
}

/* ===== RIGHT VISUAL (crisp image) ===== */
.sol-visual{
  position:relative; min-height: 420px; border-radius: 16px;
  overflow: clip; border:1px solid rgba(255,255,255,0.08); background:#070b13;
}
.sol-bg{
  position:absolute; inset:-12% -6% -6% -6%;
  background-size:cover; background-position:50% 50%;
  transform-origin:50% 45%;
  filter: saturate(1.05) contrast(1.06) brightness(.92);  /* no blur */
}
.kb{ animation: sol-kb 18s ease-in-out infinite alternate; }
@keyframes sol-kb{
  0%   { transform: scale(1.06); background-position: 48% 52%; }
  50%  { transform: scale(1.12); background-position: 52% 48%; }
  100% { transform: scale(1.15); background-position: 50% 50%; }
}
.sol-overlay{
  position:absolute; inset:0; pointer-events:none;
  background:
    linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.66)),
    radial-gradient(40rem 28rem at 70% 18%, rgba(126,141,254,.18), rgba(0,0,0,0) 60%);
}

/* ===== CODE CARD (kept, if you add back later) ===== */
.sol-card{
  position:absolute; right: clamp(12px, 3vw, 24px); bottom: clamp(12px, 3vw, 24px);
  left: clamp(12px, 3vw, 24px);
  background: rgba(2,6,14,.72);
  border:1px solid rgba(255,255,255,.10);
  border-radius: 14px; overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,.45);
}
.sol-card-head{
  display:flex; align-items:center; gap:8px; padding:10px 12px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border-bottom:1px solid rgba(255,255,255,.08);
  font-weight:700;
}
.dot{ width:10px; height:10px; border-radius:999px; background:#fff2; }
.filename{ margin-left:auto; font-weight:800; font-size:12px; opacity:.85; }
.sol-code{
  margin:0; padding:12px 14px; max-height: 36vh; overflow:auto;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: 12.5px; line-height: 1.45;
  color: #d7e0ec;
}

/* ===== METEORS (unchanged animation) ===== */
.sol-meteors{ position:absolute; inset:0; pointer-events:none; }
.sol-meteor{
  position:absolute; left:-22vw; width:36vw; height:2px;
  background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.9), rgba(255,255,255,0));
  transform: rotate(-16deg);
  filter: drop-shadow(0 0 6px rgba(255,255,255,.45));
  opacity:0; animation: sol-meteorFly linear infinite;
}
@keyframes sol-meteorFly{
  0%{ transform:translate3d(0,0,0) rotate(-16deg); opacity:0; }
  8%{ opacity:.95; }
  100%{ transform:translate3d(130vw,-40vh,0) rotate(-16deg); opacity:0; }
}

/* ===== REVEAL (unchanged logic) ===== */
[data-reveal]{
  opacity:0;
  transform:
    translateX(var(--from-x, 0))
    translateY(var(--from-y, 14px));
  transition:
    opacity var(--reveal-dur) var(--reveal-ease),
    transform var(--reveal-dur) var(--reveal-ease);
  transition-delay: var(--delay, 0ms);
  will-change: opacity, transform;
}
.is-in[data-reveal]{ opacity:1; transform: translateX(0) translateY(0); }
.is-out[data-reveal]{ opacity:0; transform: translateX(0) translateY(18px); }

/* ===== RESPONSIVE ===== */
@media (max-width: 980px){
  .sol-grid{ grid-template-columns: 1fr; }
  .sol-visual{ min-height: 360px; }
  .sol-code{ max-height: 30vh; }
}

/* ===== MOTION SAFETY ===== */
@media (prefers-reduced-motion: reduce){
  .kb, .sol-meteor{ animation: none !important; }
  [data-reveal]{ transition:none !important; opacity:1 !important; transform:none !important; }
}
